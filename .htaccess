# Enable mod_rewrite for redirections
RewriteEngine On

# Force HTTPS: Redirect HTTP to HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect www to non-www (nataliegwinters.com)
RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
RewriteRule ^ https://%1%{REQUEST_URI} [L,R=301]

# Enable GZIP Compression for text files
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css application/javascript application/json
</IfModule>

# Enable Browser Caching for static assets (images, CSS, JS, etc.)
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>

# Set the correct MIME type for XML files (for sitemap.xml)
AddType application/xml .xml

# Block bad bots and crawlers (optional, adjust user agents as needed)
<IfModule mod_rewrite.c>
    RewriteCond %{HTTP_USER_AGENT} ^(Mozilla|Googlebot|Bingbot) [NC]
    RewriteRule ^ - [F,L]
</IfModule>

# Custom 404 error page (ensure you have a 404.html file in your root)
ErrorDocument 404 /404.html

# Prevent hotlinking of images (adjust file types and domains as needed)
RewriteEngine On
RewriteCond %{HTTP_REFERER} !^https?://(www\.)?nataliegwinters\.com/ [NC]
RewriteRule \.(jpg|jpeg|png|gif|bmp|svg)$ - [F]

# Enable HTTP/2 if supported (automatically handled by most modern servers)
# This rule is for performance and should be automatically enabled by hosting providers that support HTTP/2.
# No manual configuration is usually necessary unless specified by your host.


AddType application/xml .xml